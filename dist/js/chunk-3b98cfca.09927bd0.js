(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b98cfca"],{"50fc":function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"g",(function(){return r})),n.d(e,"a",(function(){return o})),n.d(e,"e",(function(){return s})),n.d(e,"b",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"h",(function(){return u})),n.d(e,"d",(function(){return d}));var a=n("66df");function i(){return a["a"].request({url:"/api/banners",method:"get"})}function r(t){return a["a"].request({url:"/api/banners",method:"post",data:t})}function o(){return a["a"].request({url:"/api/announcements",method:"get"})}function s(t){return a["a"].request({url:"/api/announcement",method:"post",data:t})}function c(){return a["a"].request({url:"/api/applications",method:"get"})}function l(t){return a["a"].request({url:"/api/application/approve",method:"post",data:t})}function u(t){return a["a"].request({url:"/api/application/reject",method:"post",data:t})}function d(){return a["a"].request({url:"/api/allBids",method:"get"})}},d631:function(t,e,n){},db21:function(t,e,n){"use strict";n("d631")},dbe1:function(t,e,n){"use strict";n.r(e);n("7f7f");var a=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"search-con search-con-top"},[e("Button",{staticClass:"search-btn",attrs:{type:"primary"},on:{click:function(e){return t.openModal(3)}}},[e("Icon",{attrs:{type:"create"}}),t._v("上传招标文书二维码\n    ")],1),e("Button",{staticClass:"search-btn",attrs:{type:"primary"},on:{click:function(e){return t.openModal(9)}}},[e("Icon",{attrs:{type:"create"}}),t._v("授权委托书模板上传\n    ")],1)],1),e("Table",{attrs:{loading:t.loading,columns:t.columns,data:t.tableData?t.tableData.slice(10*(t.page-1),10*(t.page-1)+10):[]},scopedSlots:t._u([{key:"action",fn:function(n){var a=n.row,i=n.index;return[e("Button",{attrs:{type:"primary"},on:{click:function(e){return t.handleEdit(a,i,"success")}}},[t._v("审核通过")]),e("Button",{on:{click:function(e){return t.handleEdit(a,i,"false")}}},[t._v("审核不通过")])]}},{key:"status",fn:function(n){var a=n.row;n.index;return[e("div",{style:2==a.status?"color:red":1==a.status?"color:green":""},[t._v("\n        "+t._s(t.turnStatus(a.status))+"\n      ")])]}},{key:"file",fn:function(n){var a=n.row;n.index;return[a.detail?e("a",{attrs:{href:a.detail.url}},[t._v(t._s(a.name))]):t._e()]}},{key:"img",fn:function(n){var a=n.row;n.index;return[t.checkPng(a.businessLicenses[0].fileName)?e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:a.businessLicenses[0].url,expression:"row.businessLicenses[0].url"}],staticClass:"tableImg",attrs:{alt:""},on:{click:function(e){return t.openDialog(a.businessLicenses[0].url)}}}):e("a",{attrs:{href:a.businessLicenses[0].url}},[t._v(t._s(a.businessLicenses[0].name||a.businessLicenses[0].fileName))])]}},{key:"img2",fn:function(n){var a=n.row;n.index;return[t.checkPng(a.consignors[0].fileName)?e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:a.consignors[0].url,expression:"row.consignors[0].url"}],staticClass:"tableImg",attrs:{alt:""},on:{click:function(e){return t.openDialog(a.consignors[0].url)}}}):e("a",{attrs:{href:a.consignors[0].url}},[t._v(t._s(a.consignors[0].name||a.consignors[0].fileName))])]}},{key:"img3",fn:function(n){var a=n.row;n.index;return[t.checkPng(a.corporates[0].fileName)?e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:a.corporates[0].url,expression:"row.corporates[0].url"}],staticClass:"tableImg",attrs:{alt:""},on:{click:function(e){return t.openDialog(a.corporates[0].url)}}}):e("a",{attrs:{href:a.corporates[0].url}},[t._v(t._s(a.corporates[0].name||a.corporates[0].fileName))])]}},{key:"img4",fn:function(n){var a=n.row;n.index;return[t.checkPng(a.authorizations[0].fileName)?e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:a.authorizations[0].url,expression:"row.authorizations[0].url"}],staticClass:"tableImg",attrs:{alt:""},on:{click:function(e){return t.openDialog(a.authorizations[0].url)}}}):e("a",{attrs:{href:a.authorizations[0].url}},[t._v(t._s(a.authorizations[0].name||a.authorizations[0].fileName))])]}},{key:"img5",fn:function(n){var a=n.row;n.index;return[t.checkPng(a.evidencePayments[0].fileName)?e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:a.evidencePayments[0].url,expression:"row.evidencePayments[0].url"}],staticClass:"tableImg",attrs:{alt:""},on:{click:function(e){return t.openDialog(a.evidencePayments[0].url)}}}):e("a",{attrs:{href:a.evidencePayments[0].url}},[t._v(t._s(a.evidencePayments[0].name||a.evidencePayments[0].fileName))])]}}])}),e("Page",{attrs:{total:t.tableData?t.tableData.length:1},on:{"on-change":t.changePage}}),e("Modal",{attrs:{title:3==t.businessType?"上传招标文书二维码":"授权委托书模板上传",width:"700"},on:{"on-ok":t.ok,"on-cancel":t.cancel},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[e("Form",{key:t.modalKey,ref:"form",attrs:{model:t.formItem,"label-width":120}},[e("Upload",{ref:"upload",attrs:{action:"/api/uploadSystemFile",data:{" businessType":t.businessType},"on-success":t.handleSuccess,"before-upload":t.handleBeforeUpload}},[e("Button",{attrs:{icon:"ios-cloud-upload-outline"}},[t._v("上传文件")])],1)],1)],1),e("Modal",{attrs:{width:"700"},model:{value:t.modal1,callback:function(e){t.modal1=e},expression:"modal1"}},[e("img",{staticStyle:{display:"block",width:"100%"},attrs:{src:t.tableImg,alt:""}})])],1)},i=[],r=(n("8e6e"),n("456d"),n("ade3")),o=(n("ac6a"),n("6762"),n("2fdb"),n("50fc"));function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){Object(r["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var l={components:{},data:function(){return{searchValue:"",columns:[{width:100,title:"项目编号",key:"projectCode"},{width:200,title:"密码",key:"identification"},{width:100,title:"联系人",key:"applicantName"},{width:100,title:"联系电话",key:"phone"},{width:200,title:"联系地址",key:"address"},{width:150,title:"投标单位名称",key:"company"},{width:150,title:"营业执照编号",key:"BusinessLicense"},{width:130,title:"法定代表人姓名",key:"corporate"},{width:130,title:"授权委托人姓名",key:"Consignor"},{width:130,title:"授权委托人姓名",key:"Consignor"},{width:200,title:"营业执照扫描件",slot:"img",key:"businessLicenses"},{width:200,title:"授权委托人身份证扫描件",slot:"img2",key:"consignors"},{width:200,title:"法定代表人身份证扫描件",slot:"img3",key:"corporates"},{width:200,title:"授权委托书扫描件",slot:"img4",key:"authorizations"},{width:200,title:"付款凭证",slot:"img5",key:"evidencePayments"},{width:100,title:"审核状态",slot:"status",key:"status"},{width:180,title:"审核",slot:"action"}],data:[],tableData:[],modal:!1,modal1:!1,formItem:{},uploadList:[],id:0,modalKey:!1,tableImg:"",businessType:3,loading:!0,page:1}},created:function(){},mounted:function(){this.uploadList=this.$refs.upload.fileList,this.getApplications()},methods:{changePage:function(t){this.page=t},checkPng:function(t){return t.includes("png")||t.includes("jpg")||t.includes("jpeg")},turnStatus:function(t){switch(t+""){case"0":return"待审核";case"1":return"已通过";case"2":return"已拒绝"}return"--"},getApplications:function(){var t=this;Object(o["b"])().then((function(e){var n=[];e.data.applications.forEach((function(t){n.push(c(c({},t),t.detail))})),t.tableData=n,t.loading=!1}))},handleSearch:function(){},handleSuccess:function(t,e){console.log(t),0==t.code&&(e.url=t.data.url,e.fileName=t.data.fileName)},handleBeforeUpload:function(){var t=this.uploadList.length<1;return t||this.$Notice.warning({title:"最多上传一个文件"}),t},postApprove:function(t){var e=this;Object(o["f"])(t).then((function(t){e.getApplications()}))},postReject:function(t){var e=this;Object(o["h"])(t).then((function(t){e.getApplications()}))},handleEdit:function(t,e,n){var a={id:t.id,projectCode:t.projectCode,identification:t.identification};"success"==n?this.postApprove(a):this.postReject(a)},ok:function(){},cancel:function(){},openModal:function(t){this.businessType=t,this.modal=!0},openDialog:function(t){this.tableImg=t,this.modal1=!0}}},u=l,d=(n("db21"),n("2877")),p=Object(d["a"])(u,a,i,!1,null,"16abfadc",null);e["default"]=p.exports}}]);