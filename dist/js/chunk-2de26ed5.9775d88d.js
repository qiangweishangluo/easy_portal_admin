(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2de26ed5"],{"5b56":function(t,e,i){"use strict";i.r(e);i("7514"),i("7f7f");var n=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"search-con search-con-top"},[e("Input",{staticClass:"search-input",attrs:{clearable:"",placeholder:"搜索项目名称/编号"},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}}),e("Button",{staticClass:"search-btn",attrs:{type:"primary"},on:{click:t.handleSearch}},[e("Icon",{attrs:{type:"search"}}),t._v("  搜索\n    ")],1),e("Button",{staticClass:"search-btn",attrs:{type:"primary"},on:{click:t.deleteNode}},[e("Icon",{attrs:{type:"create"}}),t._v("删除\n    ")],1)],1),e("div",[e("Table",{ref:"selection",attrs:{loading:t.loading,columns:t.columns,data:t.tableData?t.tableData.slice(10*(t.page-1),10*(t.page-1)+10):[]},scopedSlots:t._u([{key:"file",fn:function(i){var n=i.row;i.index;return[n.files&&n.downloadable?e("a",{attrs:{href:n.files[0].url}},[t._v(t._s(n.files[0].name||n.files[0].fileName))]):e("div",[t._v(t._s(n.files[0].name||n.files[0].fileName))])]}},{key:"status",fn:function(i){var n=i.row;i.index;return[e("div",[t._v(t._s(t.turnStatus(n.status)))])]}},{key:"decryptionMethod",fn:function(i){var n=i.row;i.index;return[e("div",[t._v(t._s(t.turnDecryptionMethod(n.decryptionMethod)))])]}},{key:"add",fn:function(i){i.row;var n=i.index;return[e("Button",{attrs:{type:"primary"},on:{click:function(e){return t.add(n)}}},[t._v("澄清/二次报价")])]}},{key:"file2",fn:function(i){var n,a,o=i.row;i.index;return[o.file?e("a",{attrs:{href:(null===(n=o.clarification.files.find((function(t){return"clarification"==t.businessType})))||void 0===n?void 0:n.url)||""}},[t._v(t._s((null===(a=o.clarification.files.find((function(t){return"clarification"==t.businessType})))||void 0===a?void 0:a.name)||""))]):t._e()]}},{key:"file3",fn:function(i){var n,a,o=i.row;i.index;return[o.file?e("a",{attrs:{href:(null===(n=o.clarification.files.find((function(t){return"quotedPriceFile"==t.businessType})))||void 0===n?void 0:n.url)||""}},[t._v(t._s((null===(a=o.clarification.files.find((function(t){return"quotedPriceFile"==t.businessType})))||void 0===a?void 0:a.name)||""))]):t._e()]}}])}),e("Page",{attrs:{total:t.tableData?t.tableData.length:1},on:{"on-change":t.changePage}})],1),e("Modal",{attrs:{title:"澄清/二次报价","footer-hide":!0,width:"700"},model:{value:t.modalForm,callback:function(e){t.modalForm=e},expression:"modalForm"}},[e("Form",{ref:"form",attrs:{model:t.formItem,"label-width":160}},[e("FormItem",{attrs:{label:"专家建议"}},[e("Input",{attrs:{placeholder:"请输入"},model:{value:t.formItem.advise,callback:function(e){t.$set(t.formItem,"advise",e)},expression:"formItem.advise"}})],1),e("FormItem",{attrs:{label:"是否需要二次报价/澄清"}},[e("i-Switch",{attrs:{"true-color":"green","false-color":"blue",size:"large"},scopedSlots:t._u([{key:"open",fn:function(){return[e("span",{staticStyle:{display:"inline-block",width:"80px"}},[t._v("二次报价")])]},proxy:!0},{key:"close",fn:function(){return[e("span",[t._v("澄清文件")])]},proxy:!0}]),model:{value:t.iswitch,callback:function(e){t.iswitch=e},expression:"iswitch"}})],1),e("div",{staticStyle:{width:"100%","text-align":"center"}},[e("Button",{attrs:{type:"primary"},on:{click:t.ok}},[t._v("保存\n        ")])],1)],1)],1)],1)},a=[],o=(i("8e6e"),i("456d"),i("ade3")),r=(i("6762"),i("2fdb"),i("ac6a"),i("50fc"));function c(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function l(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var s={components:{},data:function(){return{searchValue:"",columns:[{type:"selection",width:60,align:"center"},{width:120,title:"项目名称",key:"projectName"},{width:120,title:"项目编号",key:"projectCode"},{width:120,title:"投标人名称",key:"bidder"},{width:120,title:"授权委托人名称",key:"consignor"},{width:120,title:"委托人联系方式",key:"consignorphone"},{width:120,title:"投标履约期限",key:"deadline"},{width:120,title:"投标保障金金额",key:"earnestMoney"},{width:120,title:"联系电话",key:"phone"},{width:120,title:"投标报价",key:"quotedPrice"},{width:120,title:"投标文件",slot:"file"},{width:120,title:"签到状态",slot:"status"},{width:120,title:"签到方式",slot:"decryptionMethod"},{width:180,title:"解密时间",key:"signInTime"},{width:120,title:"二次报价",key:"quotedPrice2"},{width:120,title:"二次报价文件",slot:"file3"},{width:120,title:"澄清文件",slot:"file2"},{width:140,title:"澄清/二次报价",slot:"add",disable:!0}],tableData:[],tableDataMeta:[],modal:!1,formItem:{isQuotedPrice:!1,isNeedFile:!1},modalForm:!1,uploadList:[],id:0,modalKey:!1,page:1,loading:!0,iswitch:!1}},created:function(){this.getBids()},mounted:function(){},methods:{deleteNode:function(){if(0!=this.$refs.selection.getSelection().length){var t=[];this.$refs.selection.getSelection().forEach((function(e){t.push(e.id)})),this.postBidDelete(t)}else this.$Message.error("未选择！")},postBidDelete:function(t){var e=this;Object(r["n"])({ids:t}).then((function(t){0==t.code&&(e.getBids(),e.$Message.success("删除成功！"))}))},changePage:function(t){this.page=t},turnStatus:function(t){return 0==t?"未签到":"已签到"},turnDecryptionMethod:function(t){return 1==t?"密码解密":"--"},handleSearch:function(){var t=this;this.tableData=this.tableDataMeta.filter((function(e){var i;return e.projectCode.includes(t.searchValue)||(null===e||void 0===e||null===(i=e.projectName)||void 0===i?void 0:i.includes(t.searchValue))}))},handleEdit:function(t,e){console.log(t,e)},getBids:function(){var t=this;Object(r["e"])().then((function(e){if(0==e.code){var i=e.data.bids;i.forEach((function(t){t.clarification&&(t.quotedPrice2=t.clarification.quotedPrice,t.file=t.clarification.files)})),t.tableData=i,t.tableDataMeta=i,t.loading=!1}}))},postClarification:function(t){var e=this;Object(r["o"])(t).then((function(t){0==t.code&&(e.$Message.success("保存成功"),e.modalForm=!1)}))},add:function(t){this.iswitch=!this.tableData[t].clarification.isNeedFile,this.formItem=this.tableData[t].clarification,this.modalForm=!0},ok:function(){this.formItem.isNeedFile=!this.iswitch,this.formItem.isQuotedPrice=this.iswitch,this.postClarification(l(l({},this.formItem),{},{detail:l({},this.formItem)}))},cancel:function(){}}},d=s,u=(i("b3ac"),i("2877")),f=Object(u["a"])(d,n,a,!1,null,"12ec93f4",null);e["default"]=f.exports},"68f1":function(t,e,i){},b3ac:function(t,e,i){"use strict";i("68f1")}}]);