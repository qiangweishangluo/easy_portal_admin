(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3a2376ca"],{"50fc":function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"g",(function(){return r})),n.d(e,"a",(function(){return i})),n.d(e,"e",(function(){return s})),n.d(e,"b",(function(){return c})),n.d(e,"f",(function(){return u})),n.d(e,"h",(function(){return l})),n.d(e,"d",(function(){return d}));var a=n("66df");function o(){return a["a"].request({url:"/api/banners",method:"get"})}function r(t){return a["a"].request({url:"/api/banners",method:"post",data:t})}function i(){return a["a"].request({url:"/api/announcements",method:"get"})}function s(t){return a["a"].request({url:"/api/announcement",method:"post",data:t})}function c(){return a["a"].request({url:"/api/applications",method:"get"})}function u(t){return a["a"].request({url:"/api/application/approve",method:"post",data:t})}function l(t){return a["a"].request({url:"/api/application/reject",method:"post",data:t})}function d(){return a["a"].request({url:"/api/allBids",method:"get"})}},"7ff6":function(t,e,n){"use strict";n("b1be")},b1be:function(t,e,n){},dbe1:function(t,e,n){"use strict";n.r(e);n("7f7f");var a=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"search-con search-con-top"},[e("Input",{staticClass:"search-input",attrs:{clearable:"",placeholder:"输入关键字搜索"},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}}),e("Button",{staticClass:"search-btn",attrs:{type:"primary"},on:{click:t.handleSearch}},[e("Icon",{attrs:{type:"search"}}),t._v("  搜索\n    ")],1),e("Button",{staticClass:"search-btn",attrs:{type:"primary"},on:{click:function(e){return t.openModal(3)}}},[e("Icon",{attrs:{type:"create"}}),t._v("上传招标文书二维码\n    ")],1),e("Button",{staticClass:"search-btn",attrs:{type:"primary"},on:{click:function(e){return t.openModal(9)}}},[e("Icon",{attrs:{type:"create"}}),t._v("授权委托书模板上传\n    ")],1)],1),e("Table",{attrs:{columns:t.columns,data:t.tableData},scopedSlots:t._u([{key:"action",fn:function(n){var a=n.row,o=n.index;return[e("Button",{on:{click:function(e){return t.handleEdit(a,o,"success")}}},[t._v("审核通过")]),e("Button",{on:{click:function(e){return t.handleEdit(a,o,"false")}}},[t._v("审核不通过")])]}},{key:"status",fn:function(e){var n=e.row;e.index;return[t._v("\n      "+t._s(t.turnStatus(n.status))+"\n    ")]}},{key:"file",fn:function(n){var a=n.row;n.index;return[a.detail?e("a",{attrs:{href:a.detail.url}},[t._v(t._s(a.name))]):t._e()]}},{key:"img",fn:function(n){var a=n.row;n.index;return[e("img",{staticClass:"tableImg",attrs:{src:a.businessLicenses[0].url,alt:""},on:{click:function(e){return t.openDialog(a.businessLicenses[0].url)}}})]}},{key:"img2",fn:function(n){var a=n.row;n.index;return[e("img",{staticClass:"tableImg",attrs:{src:a.consignors[0].url,alt:""},on:{click:function(e){return t.openDialog(a.consignors[0].url)}}})]}},{key:"img3",fn:function(n){var a=n.row;n.index;return[e("img",{staticClass:"tableImg",attrs:{src:a.corporates[0].url,alt:""},on:{click:function(e){return t.openDialog(a.corporates[0].url)}}})]}},{key:"img4",fn:function(n){var a=n.row;n.index;return[e("img",{staticClass:"tableImg",attrs:{src:a.authorizations[0].url,alt:""},on:{click:function(e){return t.openDialog(a.authorizations[0].url)}}})]}},{key:"img5",fn:function(n){var a=n.row;n.index;return[e("img",{staticClass:"tableImg",attrs:{src:a.evidencePayments[0].url,alt:""},on:{click:function(e){return t.openDialog(a.evidencePayments[0].url)}}})]}}])}),e("Modal",{attrs:{title:3==t.businessType?"上传招标文书二维码":"授权委托书模板上传",width:"700"},on:{"on-ok":t.ok,"on-cancel":t.cancel},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[e("Form",{key:t.modalKey,ref:"form",attrs:{model:t.formItem,"label-width":120}},[e("Upload",{ref:"upload",attrs:{action:"/api/uploadSystemFile",data:{" businessType":t.businessType},"on-success":t.handleSuccess,"before-upload":t.handleBeforeUpload}},[e("Button",{attrs:{icon:"ios-cloud-upload-outline"}},[t._v("上传文件")])],1)],1)],1),e("Modal",{model:{value:t.modal1,callback:function(e){t.modal1=e},expression:"modal1"}},[e("img",{attrs:{src:t.tableImg,alt:""}})])],1)},o=[],r=(n("8e6e"),n("456d"),n("ade3")),i=(n("ac6a"),n("50fc"));function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){Object(r["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var u={components:{},data:function(){return{searchValue:"",columns:[{title:"项目编号",key:"projectCode"},{title:"密码",key:"identification"},{title:"联系人",key:"applicantName"},{title:"联系电话",key:"phone"},{title:"联系地址",key:"address"},{title:"投标单位名称",key:"company"},{title:"营业执照编号",key:"BusinessLicense"},{title:"法定代表人姓名",key:"corporate"},{title:"授权委托人姓名",key:"Consignor"},{title:"授权委托人姓名",key:"Consignor"},{title:"营业执照扫描件",slot:"img",key:"businessLicenses"},{title:"授权委托人身份证扫描件",slot:"img2",key:"consignors"},{title:"法定代表人身份证扫描件",slot:"img3",key:"corporates"},{title:"授权委托书扫描件",slot:"img4",key:"authorizations"},{title:"付款凭证",slot:"img5",key:"evidencePayments"},{title:"审核状态",slot:"status",key:"status"},{title:"审核",slot:"action"}],data:[],tableData:[],modal:!1,modal1:!1,formItem:{},uploadList:[],id:0,modalKey:!1,tableImg:"",businessType:3}},created:function(){},mounted:function(){this.uploadList=this.$refs.upload.fileList,this.getApplications()},methods:{turnStatus:function(t){switch(t+""){case"0":return"待审核";case"1":return"已通过";case"2":return"已拒绝"}return"--"},getApplications:function(){var t=this;Object(i["b"])().then((function(e){var n=[];e.data.applications.forEach((function(t){n.push(c(c({},t),t.detail))})),t.tableData=n,console.log(n)}))},handleSearch:function(){},handleSuccess:function(t,e){console.log(t),0==t.code&&(e.url=t.data.url,e.fileName=t.data.fileName,console.log(this.uploadList))},handleBeforeUpload:function(){var t=this.uploadList.length<1;return t||this.$Notice.warning({title:"最多上传一个文件"}),t},postApprove:function(t){var e=this;Object(i["f"])(t).then((function(t){e.getApplications()}))},postReject:function(t){var e=this;Object(i["h"])(t).then((function(t){e.getApplications()}))},handleEdit:function(t,e,n){var a={id:t.id,projectCode:t.projectCode,identification:t.identification};"success"==n?this.postApprove(a):this.postReject(a)},ok:function(){},cancel:function(){},openModal:function(t){this.businessType=t,this.modal=!0},openDialog:function(t){this.tableImg=t,this.modal1=!0}}},l=u,d=(n("7ff6"),n("2877")),p=Object(d["a"])(l,a,o,!1,null,"00bd17d8",null);e["default"]=p.exports}}]);